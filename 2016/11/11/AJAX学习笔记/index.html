<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>AJAX学习笔记 | FrankRoc</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Asynchronous JavaScript and XML

AJAX的最大优点：在不需要重新加载页面的情况下，于服务器交换数据使网页内容部分更新。
AJAX不需要任何浏览器插件，但是需要用户允许javascript在浏览器运行。
AJAX不是新的编程语言，是一种符合现有标准的新方法。


使用 AJAX 的应用程序案例：新浪微博、Google 地图、开心网等等

AJAX工作原理">
<meta property="og:type" content="article">
<meta property="og:title" content="AJAX学习笔记">
<meta property="og:url" content="http://yoursite.com/2016/11/11/AJAX学习笔记/index.html">
<meta property="og:site_name" content="FrankRoc">
<meta property="og:description" content="Asynchronous JavaScript and XML

AJAX的最大优点：在不需要重新加载页面的情况下，于服务器交换数据使网页内容部分更新。
AJAX不需要任何浏览器插件，但是需要用户允许javascript在浏览器运行。
AJAX不是新的编程语言，是一种符合现有标准的新方法。


使用 AJAX 的应用程序案例：新浪微博、Google 地图、开心网等等

AJAX工作原理">
<meta property="og:image" content="http://odxqfn7qu.bkt.clouddn.com/public/16-12-10/11320179.jpg">
<meta property="og:updated_time" content="2016-12-10T14:17:34.549Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AJAX学习笔记">
<meta name="twitter:description" content="Asynchronous JavaScript and XML

AJAX的最大优点：在不需要重新加载页面的情况下，于服务器交换数据使网页内容部分更新。
AJAX不需要任何浏览器插件，但是需要用户允许javascript在浏览器运行。
AJAX不是新的编程语言，是一种符合现有标准的新方法。


使用 AJAX 的应用程序案例：新浪微博、Google 地图、开心网等等

AJAX工作原理">
<meta name="twitter:image" content="http://odxqfn7qu.bkt.clouddn.com/public/16-12-10/11320179.jpg">
  
    <link rel="alternative" href="/atom.xml" title="FrankRoc" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://odxqfn7qu.bkt.clouddn.com/16-10-3/16785696.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Frank Roc</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Stay Fool,Stay Hungry.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/FrankRoc" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/573941623?is_all=1" title="weibo">weibo</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/gao-hui-peng-65" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=p9bO387GyM3OyefRzteJ1taJxMjK" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Frank Roc</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://odxqfn7qu.bkt.clouddn.com/16-10-3/16785696.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Frank Roc</h1>
			</hgroup>
			
			<p class="header-subtitle">Stay Fool,Stay Hungry.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/FrankRoc" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/573941623?is_all=1" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/gao-hui-peng-65" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=p9bO387GyM3OyefRzteJ1taJxMjK" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-AJAX学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      AJAX学习笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Asynchronous JavaScript and XML</p>
<ul>
<li>AJAX的最大优点：在不需要重新加载页面的情况下，于服务器交换数据使网页内容部分更新。</li>
<li>AJAX不需要任何浏览器插件，但是需要用户允许javascript在浏览器运行。</li>
<li>AJAX不是新的编程语言，是一种符合现有标准的新方法。</li>
</ul>
<blockquote>
<p>使用 AJAX 的应用程序案例：新浪微博、Google 地图、开心网等等</p>
</blockquote>
<h2 id="AJAX工作原理"><a href="#AJAX工作原理" class="headerlink" title="AJAX工作原理"></a>AJAX工作原理</h2><p><img src="http://odxqfn7qu.bkt.clouddn.com/public/16-12-10/11320179.jpg" alt="ajax工作原理"></p>
<a id="more"></a>
<h3 id="AJAX基于现有的internet标准"><a href="#AJAX基于现有的internet标准" class="headerlink" title="AJAX基于现有的internet标准"></a>AJAX基于现有的internet标准</h3><ul>
<li>XMLHttpRequest 对象（异步的与服务器交换数据）</li>
</ul>
<blockquote>
<p>什么是<a href="http://www.w3school.com.cn/xml/xml_http.asp" title="XMLHttpRequest" target="_blank" rel="external">XMLHttpRequest对象</a>？<br>1.在不重新加载页面的情况下更新网页<br>2.在页面已加载后从服务器请求数据<br>3.在页面已加载后从服务器接收数据<br>4.在后台向服务器发送数据<br>所有现代的浏览器都支持 XMLHttpRequest 对象。</p>
</blockquote>
<ul>
<li>JavaScript/DOM (信息显示/交互)</li>
<li>CSS (给数据定义样式)</li>
<li>XML (作为转换数据的格式)</li>
</ul>
<p>菜鸟网的一个<a href="http://www.runoob.com/ajax/ajax-example.html" title="ajax-example" target="_blank" rel="external">AJAX实例</a></p>
<h3 id="首先创建一个XMLHTTPrequest对象"><a href="#首先创建一个XMLHTTPrequest对象" class="headerlink" title="首先创建一个XMLHTTPrequest对象"></a>首先创建一个XMLHTTPrequest对象</h3><p>为了适应所有的现代浏览器，包括IE5/6,先检查浏览器是否支持XMLHttpRequest对象。如果支持则创建XMLHttpRequest对象，。如果不支持，则创建 ActiveXObject ：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var xmlhttp;</div><div class="line">if (window.XMLHttpRequest)</div><div class="line">&#123;</div><div class="line">    //  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</div><div class="line">    xmlhttp=new XMLHttpRequest();</div><div class="line">&#125;</div><div class="line">else</div><div class="line">&#123;</div><div class="line">    // IE6, IE5 浏览器执行代码</div><div class="line">    xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="AJAX-向服务器发送请求请求"><a href="#AJAX-向服务器发送请求请求" class="headerlink" title="AJAX - 向服务器发送请求请求"></a>AJAX - 向服务器发送请求请求</h2><p>XMLHttpRequest 对象用于和服务器交换数据。</p>
<h3 id="向服务器发送请求"><a href="#向服务器发送请求" class="headerlink" title="向服务器发送请求"></a>向服务器发送请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;ajax_info.txt&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure>
<ol>
<li>规定请求的类型、URL 以及是否异步处理请求。<br><strong>open(method,url,async)</strong><br>method:请求的类型；GET 或 POST<br>url：文件在服务器上的位置<br>async：true（异步）或 false（同步）</li>
<li>将请求发送到服务器。<br><strong>send(string)</strong><br>string：仅用于 POST 请求</li>
</ol>
<h3 id="GET-还是-POST？"><a href="#GET-还是-POST？" class="headerlink" title="GET 还是 POST？"></a>GET 还是 POST？</h3><blockquote>
<p>　<a href="https://www.zhihu.com/question/28586791" title="知乎对于get和post的讨论" target="_blank" rel="external">先看一看知乎get和post的讨论</a><br>　rfc-2616<br>　get：　<a href="https://tools.ietf.org/html/rfc2616#section-9.3" target="_blank" rel="external">https://tools.ietf.org/html/rfc2616#section-9.3</a><br>　post:　<a href="https://tools.ietf.org/html/rfc2616#section-9.5" target="_blank" rel="external">https://tools.ietf.org/html/rfc2616#section-9.5</a><br>　<a href="https://segmentfault.com/a/1190000004014583" title="segmentfault" target="_blank" rel="external">segmentfault:GET请求和POST请求的区别</a></p>
</blockquote>
<h3 id="GET-请求"><a href="#GET-请求" class="headerlink" title="GET 请求"></a>GET 请求</h3><p>为了避免这种情况，请向 URL 添加一个唯一的 ID：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/demo_get.php?t=&quot; + Math.random(),true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure></p>
<p>如果您希望通过 GET 方法发送信息，请向 URL 添加信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/demo_get2.php?fname=Henry&amp;lname=Ford&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure></p>
<h3 id="POST-请求"><a href="#POST-请求" class="headerlink" title="POST 请求"></a>POST 请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;POST&quot;,&quot;/try/ajax/demo_post.php&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure>
<p>如果需要像 HTML 表单那样 POST 数据，请使用 setRequestHeader() 来添加 HTTP 头。然后在 send() 方法中规定您希望发送的数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;POST&quot;,&quot;/try/ajax/demo_post2.php&quot;,true);</div><div class="line">xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);</div><div class="line">xmlhttp.send(&quot;fname=Henry&amp;lname=Ford&quot;);</div></pre></td></tr></table></figure></p>
<blockquote>
<p><a href="http://blog.csdn.net/iamduoluo/article/details/7215639" title="XMLHTTP中setRequestHeader参数问题" target="_blank" rel="external">XMLHTTP中setRequestHeader参数问题</a></p>
</blockquote>
<p>涉及方法：<br><strong>setRequestHeader(header,value)</strong><br>header: 规定头的名称<br>value: 规定头的值</p>
<h3 id="url-服务器上的文件"><a href="#url-服务器上的文件" class="headerlink" title="url - 服务器上的文件"></a>url - 服务器上的文件</h3><p>open() 方法的 url 参数是服务器上文件的地址：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;ajax_test.html&quot;,true);</div></pre></td></tr></table></figure></p>
<p>该文件可以是任何类型的文件，比如 .txt 和 .xml，或者服务器脚本文件，比如 .asp 和 .php （在传回响应之前，能够在服务器上执行任务）。</p>
<h3 id="异步-True-或-False？"><a href="#异步-True-或-False？" class="headerlink" title="异步 - True 或 False？"></a>异步 - True 或 False？</h3><p>XMLHttpRequest 对象如果要用于 AJAX 的话，其 open() 方法的 async 参数必须设置为 true：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;ajax_test.html&quot;,true);</div></pre></td></tr></table></figure></p>
<p>通过 AJAX，JavaScript 无需等待服务器的响应，而是：</p>
<ul>
<li>在等待服务器响应时执行其他脚本</li>
<li>当响应就绪后对响应进行处理</li>
</ul>
<h3 id="Async-true"><a href="#Async-true" class="headerlink" title="Async=true"></a>Async=true</h3><p>当使用 async=true 时，请规定在响应处于 onreadystatechange 事件中的就绪状态时执行的函数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">xmlhttp.onreadystatechange=function()</div><div class="line">&#123;</div><div class="line">    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</div><div class="line">    &#123;</div><div class="line">        document.getElementById(&quot;myDiv&quot;).innerHTML=xmlhttp.responseText;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/ajax_info.txt&quot;,true);</div><div class="line">xmlhttp.send();</div></pre></td></tr></table></figure></p>
<h3 id="Async-false"><a href="#Async-false" class="headerlink" title="Async = false"></a>Async = false</h3><p>如需使用 async=false，请将 open() 方法中的第三个参数改为 false：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">xmlhttp.open(&quot;GET&quot;,&quot;test1.txt&quot;,false);</div></pre></td></tr></table></figure></p>
<p>我们不推荐使用 async=false，但是对于一些小型的请求，也是可以的。<br>请记住，JavaScript 会等到服务器响应就绪才继续执行。如果服务器繁忙或缓慢，应用程序会挂起或停止。<br><strong>注意</strong>：当您使用 async=false 时，请不要编写 onreadystatechange 函数 - 把代码放到 send() 语句后面即可：</p>
<blockquote>
<p><a href="http://blog.chinaunix.net/uid-20730110-id-1883890.html" title="对onreadystatechange属性的理解 " target="_blank" rel="external">对onreadystatechange属性的理解 </a></p>
</blockquote>
<h2 id="AJAX-服务器-响应"><a href="#AJAX-服务器-响应" class="headerlink" title="AJAX - 服务器 响应"></a>AJAX - 服务器 响应</h2><h3 id="服务器响应"><a href="#服务器响应" class="headerlink" title="服务器响应"></a>服务器响应</h3><p><strong>responseText</strong>:    获得字符串形式的响应数据。<br><strong>responseXML</strong>:    获得 XML 形式的响应数据。</p>
<h4 id="responseText-属性"><a href="#responseText-属性" class="headerlink" title="responseText 属性"></a>responseText 属性</h4><p>如果来自服务器的响应并非 XML，请使用 responseText 属性。<br>responseText 属性返回字符串形式的响应，因此您可以这样使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">document.getElementById(&quot;myDiv&quot;).innerHTML=xmlhttp.responseText;</div></pre></td></tr></table></figure></p>
<h3 id="responseXML-属性"><a href="#responseXML-属性" class="headerlink" title="responseXML 属性"></a>responseXML 属性</h3><p>如果来自服务器的响应是 XML，而且需要作为 XML 对象进行解析，请使用 responseXML 属性：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">xmlDoc=xmlhttp.responseXML;</div><div class="line">txt=&quot;&quot;;</div><div class="line">x=xmlDoc.getElementsByTagName(&quot;ARTIST&quot;);</div><div class="line">for (i=0;i&lt;x.length;i++)</div><div class="line">&#123;</div><div class="line">    txt=txt + x[i].childNodes[0].nodeValue + &quot;&lt;br&gt;&quot;;</div><div class="line">&#125;</div><div class="line">document.getElementById(&quot;myDiv&quot;).innerHTML=txt;</div></pre></td></tr></table></figure></p>
<h2 id="AJAX-onreadystatechange-事件"><a href="#AJAX-onreadystatechange-事件" class="headerlink" title="AJAX - onreadystatechange 事件"></a>AJAX - onreadystatechange 事件</h2><h3 id="onreadystatechange-事件"><a href="#onreadystatechange-事件" class="headerlink" title="onreadystatechange 事件"></a>onreadystatechange 事件</h3><p>每当 readyState 改变时，就会触发 onreadystatechange 事件。<br>readyState 属性存有 XMLHttpRequest 的状态信息。<br><strong>readyState</strong>:存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。</p>
<ul>
<li>0: 请求未初始化</li>
<li>1: 服务器连接已建立</li>
<li>2: 请求已接收</li>
<li>3: 请求处理中</li>
<li>4: 请求已完成，且响应已就绪</li>
</ul>
<p><strong>status</strong>:</p>
<ul>
<li>200: “OK”</li>
<li>404: 未找到页面</li>
</ul>
<p>当 readyState 等于 4 且状态为 200 时，表示响应已就绪：<br><strong>注意</strong>： onreadystatefunchange 事件被触发 5 次（0 - 4），对应着 readyState 的每个变化。</p>
<h3 id="使用回调函数"><a href="#使用回调函数" class="headerlink" title="使用回调函数"></a>使用回调函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var xmlhttp;</div><div class="line">		function LoadXml(url,fun)&#123;</div><div class="line">			if(window.XMLHttpRequest)&#123;</div><div class="line">				xmlhttp= new XMLHttpRequest()</div><div class="line">			&#125;</div><div class="line">			else&#123;</div><div class="line">				xmlhttp=new ActiveXObject(&apos;Microsoft.XMLHTTP&apos;)</div><div class="line">			&#125;</div><div class="line">			xmlhttp.onreadystatechange=fun;</div><div class="line">			xmlhttp.open(&apos;GET&apos;,url,true)</div><div class="line">			xmlhttp.send()</div><div class="line">		&#125;</div><div class="line">		function changeFun()&#123;</div><div class="line">			LoadXml(&quot;myTxt.txt&quot;,function()&#123;</div><div class="line">				if(xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)&#123;</div><div class="line">					document.getElementById(&apos;myDiv&apos;).innerHTML=xmlhttp.responseText</div><div class="line">				&#125;</div><div class="line">			&#125;)</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
<h2 id="AJAX-ASP-PHP-实例"><a href="#AJAX-ASP-PHP-实例" class="headerlink" title="AJAX ASP/PHP 实例"></a>AJAX ASP/PHP 实例</h2><p>AJAX 用于创造动态性更强的应用程序。</p>
<h3 id="AJAX-ASP-PHP-实例-1"><a href="#AJAX-ASP-PHP-实例-1" class="headerlink" title="AJAX ASP/PHP 实例"></a>AJAX ASP/PHP 实例</h3><p>实例解析 - showHint() 函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">function showHint(str)</div><div class="line">&#123;</div><div class="line">  var xmlhttp;</div><div class="line">  if (str.length==0)</div><div class="line">  &#123; </div><div class="line">    document.getElementById(&quot;txtHint&quot;).innerHTML=&quot;&quot;;</div><div class="line">    return;</div><div class="line">  &#125;</div><div class="line">  if (window.XMLHttpRequest)</div><div class="line">  &#123;</div><div class="line">    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</div><div class="line">    xmlhttp=new XMLHttpRequest();</div><div class="line">  &#125;</div><div class="line">  else</div><div class="line">  &#123;</div><div class="line">    // IE6, IE5 浏览器执行代码</div><div class="line">    xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</div><div class="line">  &#125;</div><div class="line">  xmlhttp.onreadystatechange=function()</div><div class="line">  &#123;</div><div class="line">    if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</div><div class="line">    &#123;</div><div class="line">      document.getElementById(&quot;txtHint&quot;).innerHTML=xmlhttp.responseText;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  xmlhttp.open(&quot;GET&quot;,&quot;/try/ajax/gethint.php?q=&quot;+str,true);</div><div class="line">  xmlhttp.send();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果输入框为空 (str.length==0)，则该函数清空 txtHint 占位符的内容，并退出函数。<br>如果输入框不为空，showHint() 函数执行以下任务：</p>
<ul>
<li>创建 XMLHttpRequest 对象</li>
<li>当服务器响应就绪时执行函数</li>
<li>把请求发送到服务器上的文件</li>
<li>请注意我们向 URL 添加了一个参数 q （带有输入框的内容）</li>
</ul>
<blockquote>
<p><a href="http://www.runoob.com/try/try.php?filename=tryajax_suggest" title="菜鸟测试网站" target="_blank" rel="external">菜鸟测试网站</a></p>
</blockquote>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/11/AJAX学习笔记/" class="archive-article-date">
  	<time datetime="2016-11-10T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-11</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ajax/">ajax</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
  
    <a href="/2016/11/11/注释规范/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">HTML | 图片 | CSS | 命名 规范</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="AJAX学习笔记" data-title="AJAX学习笔记" data-url="http://yoursite.com/2016/11/11/AJAX学习笔记/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"frankroc"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>







      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Frank Roc
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/"
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/URI/" style="font-size: 10px;">URI</a> <a href="/tags/URl/" style="font-size: 10px;">URl</a> <a href="/tags/Xshell/" style="font-size: 10px;">Xshell</a> <a href="/tags/Yilia/" style="font-size: 20px;">Yilia</a> <a href="/tags/ajax/" style="font-size: 10px;">ajax</a> <a href="/tags/centOS/" style="font-size: 10px;">centOS</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/hexo-github/" style="font-size: 10px;">hexo github</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/less/" style="font-size: 10px;">less</a> <a href="/tags/xhtml/" style="font-size: 10px;">xhtml</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/免流量/" style="font-size: 10px;">免流量</a> <a href="/tags/多说/" style="font-size: 10px;">多说</a> <a href="/tags/换主题/" style="font-size: 15px;">换主题</a> <a href="/tags/简历/" style="font-size: 10px;">简历</a> <a href="/tags/规范/" style="font-size: 10px;">规范</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://huaban.com/">设计-花瓣网</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.doooor.com/">美图-DOOOOR</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://ife.baidu.com/task/all">自学前端-百度前端</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.imooc.com/">自学网-慕课网</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="hhttp://www.w3school.com.cn/tags/index.asp">手册-W3C</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://isux.tencent.com/">设计-腾讯ISUX</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">我坚信！&lt;br&gt;&lt;br&gt;勤能补拙&lt;br&gt;一切的一切，走下去，终将走向胜利！</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>